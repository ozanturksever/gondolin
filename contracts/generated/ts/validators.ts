// Code generated by dink codegen. DO NOT EDIT.

import { z } from 'zod';

export const AgentTypeSchema = z.nativeEnum({
  AGENT_TYPE_UNSPECIFIED: 0,
  AGENT_TYPE_CLAUDE: 1,
  AGENT_TYPE_CODEX: 2,
  AGENT_TYPE_OPENCODE: 3,
  AGENT_TYPE_AMP: 4,
  AGENT_TYPE_CODEBUFF: 5,
  AGENT_TYPE_MOCK: 6,
  AGENT_TYPE_CUSTOM: 7,
});

export const PermissionModeSchema = z.nativeEnum({
  PERMISSION_MODE_UNSPECIFIED: 0,
  PERMISSION_MODE_AUTO: 1,
  PERMISSION_MODE_ASK: 2,
  PERMISSION_MODE_PLAN: 3,
});

export const SessionStatusSchema = z.nativeEnum({
  SESSION_STATUS_UNSPECIFIED: 0,
  SESSION_STATUS_STARTING: 1,
  SESSION_STATUS_RUNNING: 2,
  SESSION_STATUS_COMPLETED: 3,
  SESSION_STATUS_FAILED: 4,
});

export const EventTypeSchema = z.nativeEnum({
  EVENT_TYPE_UNSPECIFIED: 0,
  EVENT_TYPE_SESSION_STARTED: 1,
  EVENT_TYPE_SESSION_ENDED: 2,
  EVENT_TYPE_ITEM: 3,
  EVENT_TYPE_ITEM_DELTA: 4,
  EVENT_TYPE_QUESTION: 5,
  EVENT_TYPE_PERMISSION: 6,
  EVENT_TYPE_ERROR: 7,
});

export const FileTypeSchema = z.nativeEnum({
  FILE_TYPE_UNSPECIFIED: 0,
  FILE_TYPE_FILE: 1,
  FILE_TYPE_DIRECTORY: 2,
  FILE_TYPE_SYMLINK: 3,
});

export const ChangeTypeSchema = z.nativeEnum({
  CHANGE_TYPE_UNSPECIFIED: 0,
  CHANGE_TYPE_ADDED: 1,
  CHANGE_TYPE_MODIFIED: 2,
  CHANGE_TYPE_DELETED: 3,
});

export const SandboxStatusSchema = z.nativeEnum({
  SANDBOX_STATUS_UNSPECIFIED: 0,
  SANDBOX_STATUS_PROVISIONING: 1,
  SANDBOX_STATUS_STARTING: 2,
  SANDBOX_STATUS_READY: 3,
  SANDBOX_STATUS_RUNNING: 4,
  SANDBOX_STATUS_STOPPING: 5,
  SANDBOX_STATUS_STOPPED: 6,
  SANDBOX_STATUS_FAILED: 7,
});


export const UniversalEventSchema = z.object({
  id: z.number(),
  timestamp: z.date(),
  sessionId: z.string(),
  agent: z.string(),
  type: EventTypeSchema,
  data: z.record(z.string(), z.unknown()),
});

export const CreateSessionRequestSchema = z.object({
  sessionId: z.string(),
  agent: AgentTypeSchema,
  agentMode: z.string(),
  permissionMode: PermissionModeSchema,
  model: z.string(),
  workingDirectory: z.string(),
  env: z.record(z.string(), z.unknown()),
});

export const CreateSessionResponseSchema = z.object({
  sessionId: z.string(),
  status: SessionStatusSchema,
  createdAt: z.date(),
});

export const SendMessageRequestSchema = z.object({
  sessionId: z.string(),
  content: z.string(),
  workingDirectory: z.string(),
  model: z.string(),
  options: z.record(z.string(), z.unknown()),
});

export const SendMessageResponseSchema = z.object({
  accepted: z.boolean(),
});

export const TerminateSessionRequestSchema = z.object({
  sessionId: z.string(),
});

export const TerminateSessionResponseSchema = z.object({
  terminated: z.boolean(),
});

export const ListSessionsRequestSchema = z.object({
});

export const SessionInfoSchema = z.object({
  sessionId: z.string(),
  agent: AgentTypeSchema,
  status: SessionStatusSchema,
  createdAt: z.date(),
  eventCount: z.number(),
});

export const GetEventsRequestSchema = z.object({
  sessionId: z.string(),
  offset: z.number(),
  limit: z.number(),
});

export const ReplyQuestionRequestSchema = z.object({
  sessionId: z.string(),
  questionId: z.string(),
  answers: z.array(z.string()),
});

export const ReplyQuestionResponseSchema = z.object({
  accepted: z.boolean(),
});

export const ReplyPermissionRequestSchema = z.object({
  sessionId: z.string(),
  permissionId: z.string(),
  reply: z.string(),
});

export const ReplyPermissionResponseSchema = z.object({
  accepted: z.boolean(),
});

export const StreamEventsRequestSchema = z.object({
  sessionId: z.string(),
  fromId: z.number(),
});

export const OpenRequestSchema = z.object({
  cols: z.number(),
  rows: z.number(),
  shell: z.string(),
  cwd: z.string(),
  env: z.record(z.string(), z.unknown()),
});

export const OpenResponseSchema = z.object({
  streamId: z.string(),
});

export const InputRequestSchema = z.object({
  streamId: z.string(),
  data: z.instanceof(Uint8Array),
});

export const InputResponseSchema = z.object({
});

export const ResizeRequestSchema = z.object({
  streamId: z.string(),
  cols: z.number(),
  rows: z.number(),
});

export const ResizeResponseSchema = z.object({
});

export const StreamOutputRequestSchema = z.object({
  streamId: z.string(),
});

export const StreamOutputResponseSchema = z.object({
  streamId: z.string(),
  data: z.instanceof(Uint8Array),
  timestamp: z.date(),
});

export const FileInfoSchema = z.object({
  path: z.string(),
  name: z.string(),
  size: z.number(),
  type: FileTypeSchema,
  mode: z.number(),
  modifiedAt: z.date(),
  createdAt: z.date(),
});

export const ExecResultSchema = z.object({
  exitCode: z.number(),
  stdout: z.string(),
  stderr: z.string(),
});

export const FileChangeSchema = z.object({
  path: z.string(),
  type: ChangeTypeSchema,
  diff: z.string(),
});

export const ExecCommandRequestSchema = z.object({
  command: z.string(),
  cwd: z.string(),
  env: z.record(z.string(), z.unknown()),
  timeoutMs: z.number(),
});

export const ReadFileRequestSchema = z.object({
  path: z.string(),
  encoding: z.string(),
  offset: z.number(),
  length: z.number(),
});

export const WriteFileRequestSchema = z.object({
  path: z.string(),
  content: z.string(),
  encoding: z.string(),
  createDirs: z.boolean(),
  mode: z.number(),
});

export const DeleteFileRequestSchema = z.object({
  path: z.string(),
  recursive: z.boolean(),
});

export const DeleteFileResponseSchema = z.object({
  deleted: z.boolean(),
});

export const ListFilesRequestSchema = z.object({
  path: z.string(),
  recursive: z.boolean(),
  pattern: z.string(),
  includeHidden: z.boolean(),
});

export const SearchCodebaseRequestSchema = z.object({
  pattern: z.string(),
  path: z.string(),
  filePattern: z.string(),
  caseSensitive: z.boolean(),
  maxResults: z.number(),
  contextLines: z.number(),
});

export const SearchMatchSchema = z.object({
  path: z.string(),
  line: z.number(),
  column: z.number(),
  text: z.string(),
  contextBefore: z.array(z.string()),
  contextAfter: z.array(z.string()),
});

export const RunTestsRequestSchema = z.object({
  path: z.string(),
  pattern: z.string(),
  env: z.record(z.string(), z.unknown()),
  timeoutMs: z.number(),
});

export const InstallPackageRequestSchema = z.object({
  packageName: z.string(),
  version: z.string(),
  dev: z.boolean(),
  packageManager: z.string(),
});

export const ExportPatchRequestSchema = z.object({
  basePath: z.string(),
  paths: z.array(z.string()),
});

export const SandboxResourcesSchema = z.object({
  cpu: z.number(),
  memoryMb: z.number(),
  diskMb: z.number(),
});

export const GitRepoConfigSchema = z.object({
  url: z.string(),
  branch: z.string(),
  commit: z.string(),
  subPath: z.string(),
});

export const CreateSandboxResponseSchema = z.object({
  sandboxId: z.string(),
  status: SandboxStatusSchema,
  createdAt: z.date(),
});

export const DestroySandboxRequestSchema = z.object({
  sandboxId: z.string(),
  preserveAgentfs: z.boolean(),
  extractChanges: z.boolean(),
  force: z.boolean(),
});

export const GetStatusRequestSchema = z.object({
  sandboxId: z.string(),
});

export const SandboxMetricsSchema = z.object({
  cpuPercent: z.number(),
  memoryUsageMb: z.number(),
  diskUsageMb: z.number(),
  networkBytesSent: z.number(),
  networkBytesReceived: z.number(),
  updatedAt: z.date(),
});

export const SandboxInfoSchema = z.object({
  sandboxId: z.string(),
  workspaceId: z.string(),
  workloadId: z.string(),
  status: SandboxStatusSchema,
  agent: z.string(),
  createdAt: z.date(),
  startedAt: z.date(),
});

export const ListSandboxesRequestSchema = z.object({
  workspaceId: z.string(),
  activeOnly: z.boolean(),
});

export const GetEventsResponseSchema = z.object({
  events: z.array(UniversalEventSchema),
  total: z.number(),
});

export const StreamEventsResponseSchema = z.object({
  event: UniversalEventSchema,
});

export const ListSessionsResponseSchema = z.object({
  sessions: z.array(SessionInfoSchema),
});

export const ListFilesResponseSchema = z.object({
  files: z.array(FileInfoSchema),
});

export const ReadFileResponseSchema = z.object({
  content: z.string(),
  info: FileInfoSchema,
});

export const WriteFileResponseSchema = z.object({
  info: FileInfoSchema,
});

export const RunTestsResponseSchema = z.object({
  result: ExecResultSchema,
  total: z.number(),
  passed: z.number(),
  failed: z.number(),
  skipped: z.number(),
});

export const ExecCommandResponseSchema = z.object({
  result: ExecResultSchema,
});

export const InstallPackageResponseSchema = z.object({
  result: ExecResultSchema,
  installedVersion: z.string(),
});

export const PatchOutputSchema = z.object({
  content: z.string(),
  filesChanged: z.number(),
  linesAdded: z.number(),
  linesRemoved: z.number(),
  changes: z.array(FileChangeSchema),
});

export const SearchCodebaseResponseSchema = z.object({
  matches: z.array(SearchMatchSchema),
  totalMatches: z.number(),
  truncated: z.boolean(),
});

export const SandboxConfigSchema = z.object({
  resources: SandboxResourcesSchema,
  agent: z.string(),
  gitRepo: GitRepoConfigSchema,
  environment: z.record(z.string(), z.unknown()),
  image: z.string(),
  timeoutSeconds: z.number(),
  networkEnabled: z.boolean(),
  workingDirectory: z.string(),
});

export const GetStatusResponseSchema = z.object({
  sandboxId: z.string(),
  workspaceId: z.string(),
  workloadId: z.string(),
  status: SandboxStatusSchema,
  agent: z.string(),
  resources: SandboxResourcesSchema,
  createdAt: z.date(),
  startedAt: z.date(),
  error: z.string(),
  metrics: SandboxMetricsSchema,
});

export const ListSandboxesResponseSchema = z.object({
  sandboxes: z.array(SandboxInfoSchema),
});

export const ExportPatchResponseSchema = z.object({
  patch: PatchOutputSchema,
});

export const DestroySandboxResponseSchema = z.object({
  destroyed: z.boolean(),
  changes: PatchOutputSchema,
});

export const CreateSandboxRequestSchema = z.object({
  workspaceId: z.string(),
  workloadId: z.string(),
  config: SandboxConfigSchema,
});

